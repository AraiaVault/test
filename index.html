<link rel="stylesheet" href="style.css">
<style> 
body { 
  background-image: url('image.png'); 
  background-repeat: repeat;
  background-attachment: fixed; 
}
</style>
<script src="https://kit.fontawesome.com/db2d4e4bde.js" crossorigin="anonymous"></script>
<body class = "head">
	<input class = "search" type="text" required list ="Card">
	<datalist id="Card">
		<option value="Medical Info"></option>
		<option value="Passwords"></option>
		<option value="Bank account info"></option>
		<option value="Adresse"></option>
	</datalist>
	<button type = "button" class = "add-tile" onclick = "openPopup()">+</button>
	<div class = "popup" id = "popup">
		<input type="text" name = "title" required class="tile-name-input" id = "tileTitle">
		<button type = "button" class = "hide" onclick = "closePopup()">x</button>
		<form>
			<div class = "File-Types">
				<button class = "txt" type = "button" onclick = "openTxtInput()"> Txt </button>
				<button class = "txt" type = "button" onclick = "openImgUpload()"> Img </button>
				<button class = "txt" type = "button" onclick = "openTxtInput()"> Mov </button>
			</div>
			<textarea id="txtInput" name="data"  type="text" required class="txt-input" placeholder="Write something.."></textarea>
		</form>
		<div class = "upload-area" id = "imgUpload">
			<div class = "icon"><i class="fa-solid fa-file-arrow-up"></i></div>
		</div>
		<button type = "button" class = "done" onclick = "closePopup(); createAndDownloadTile()">Done</button>
	</div>
<script>
var popup = document.getElementById("popup");
var txtInput = document.getElementById("txtInput");
var imgUpload = document.getElementById("imgUpload");

function openPopup(){
	popup.classList.add("open-popup");
}
function closePopup(){
	popup.classList.remove("open-popup");
	imgUpload.style.display = "none";
	txtInput.style.display = "none";
}
function openTxtInput(){
	txtInput.style.display = "block";
	imgUpload.style.display = "none";
}
function openImgUpload(){
	imgUpload.style.display = "block";
	txtInput.style.display = "none";

}
</script>
</body>
<body class = "main">
	<div class = "flex">
		<div class = "Scrollable">
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1>
			</div>
			<div class="Card">
				<h1> Tile </h1> 
			</div>
		</div>
	</div>
</body>

<script>
function createAndDownloadTile() {
	const title = document.getElementById('tileTitle').value;
        const content = document.getElementById('txtInput').value;
        const blob = new Blob([content], { type: 'text/plain' });
        const anchor = document.createElement('a');
        anchor.download = `${title}.txt`; // Set the filename from the title input
        anchor.href = window.URL.createObjectURL(blob); // Create a URL for the blob
        document.body.appendChild(anchor);
        anchor.click(); // Programmatically click the anchor to trigger download
        document.body.removeChild(anchor); // Clean up by removing the anchor
}
</script>
